#!/bin/bash

wmname LG3D

~/.config/polybar/launch.sh &

displays=($(xrandr | grep -i -e '\bconnected\b' | awk '{printf ("%s\n",$1) }' | sort))
bspc_monitors=$(bspc query -M)

if [[ ${#displays[@]} = 2 ]]; then
	echo "Two monitors"
	bspc monitor ${displays[0]} -d 1 2 3 4 5
	bspc monitor ${displays[1]} -d 6 7 8 9 0
else
	echo "One monitor"
	bspc monitor ${displays[0]} -d 1 2 3 4 5 6 7 8 9 0
fi

bspc config remove_disabled_monitors true
bspc config remove_unplugged_monitors true

bspc config split_ratio 0.50
bspc config focus_follows_pointer false
bspc config ignore_ewmh_focus true
# I'd like to ignore all, but youtube won't enter fullscreen even when firefox
# is on fullscreen
bspc config ignore_ewmh_fullscreen none
bspc config center_pseudo_tiled true
bspc config honor_size_hints false
bspc config click_to_focus any

bspc config focused_border_color "#{{base0B-hex}}"

bspc config border_width 1
bspc config window_gap 6
bspc config top_padding 0
bspc config right_padding 0
bspc config bottom_padding 34
bspc config left_padding 0

bspc config borderless_monocle true
bspc config gapless_monocle true
bspc config single_monocle false
bspc config top_monocle_padding 0
bspc config right_monocle_padding 0
bspc config bottom_monocle_padding 0
bspc config left_monocle_padding 0

bspc rule -a "Emacs" state=tiled

# vim:ft=sh
